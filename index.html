<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pure HTML & CSS — Polished Demo (with small JS UX fixes)</title>
  <meta name="description" content="Polished single-file demo of UI patterns: accessible tabs, responsive cards, accordion, modal. CSS-first with a tiny unobtrusive JS for accessibility fixes (theme persistence, focus trap, Escape-to-close, tab keyboard navigation)." />
  <style>
    /* =====================
       Design tokens & resets
       ===================== */
    :root{
      --bg: #f5f7fb;
      --panel: #ffffff;
      --text: #071128;
      --muted: #556077;
      --accent: #2f7be6;
      --accent-2: #06b6d4;
      --radius: 12px;
      --shadow-soft: 0 6px 20px rgba(9,18,35,0.06);
      --shadow-strong: 0 18px 50px rgba(9,18,35,0.12);
      --glass: rgba(255,255,255,0.6);
      --max-width: 980px;
      --focus-outline: 3px;
      --trans: 200ms cubic-bezier(.2,.9,.2,1);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      font-size: 15px;
    }

    /* Dark theme (applied via .dark on <html>) */
    html.dark{
      --bg: linear-gradient(180deg,#071226 0%, #071a2a 90%);
      --panel: #07112a;
      --text: #e8f0ff;
      --muted: #9fb2d0;
      --accent: #6ea8ff;
      --accent-2: #33e0d6;
      --glass: rgba(255,255,255,0.03);
      --shadow-soft: 0 8px 30px rgba(2,6,23,0.45);
      --shadow-strong: 0 30px 80px rgba(2,6,23,0.6);
    }

    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
    }

    /* =====================
       Layout & common UI
       ===================== */
    .page{
      max-width:var(--max-width);
      margin:1.25rem auto;
      padding:1rem;
    }

    /* Skip link for keyboard users */
    .skip-link{
      position:fixed;left:1rem;top:1rem;z-index:9999;
      background:var(--accent);color:#fff;padding:.5rem .75rem;border-radius:8px;
      transform:translateY(-120%);opacity:0;transition:transform .16s,var(--trans);
    }
    .skip-link:focus{transform:translateY(0);opacity:1;outline:none;box-shadow:0 6px 24px rgba(47,123,230,0.18)}

    header.topbar{
      display:flex;align-items:center;justify-content:space-between;gap:1rem;
      padding:.75rem 1rem;border-radius:14px;background:linear-gradient(90deg, rgba(255,255,255,0.6), rgba(255,255,255,0.2));
      box-shadow:var(--shadow-soft);backdrop-filter: blur(6px);
    }
    .brand{display:flex;align-items:center;gap:.8rem}
    .logo{
      width:44px;height:44px;border-radius:9px;display:grid;place-items:center;color:white;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));box-shadow:var(--shadow-strong);
      font-weight:700;font-size:0.95rem;
    }
    .title{margin:0;font-size:1.02rem}
    .subtitle{margin:0;color:var(--muted);font-size:.86rem}

    .controls{display:flex;gap:.6rem;align-items:center}
    /* The real checkbox is visually hidden; JS syncs state & persists preference */
    #theme-toggle{position:absolute;left:-9999px}
    .theme-btn{
      display:inline-flex;align-items:center;gap:.55rem;padding:.45rem .6rem;border-radius:999px;
      background:var(--glass);cursor:pointer;border:1px solid rgba(9,18,35,0.04);
      transition:transform var(--trans), background var(--trans);
    }
    .theme-btn:active{transform:scale(.98)}
    .theme-btn:focus{outline:var(--focus-outline) solid rgba(47,123,230,0.14);outline-offset:3px}

    main.card{
      margin-top:1rem;background:var(--panel);border-radius:12px;padding:1rem;box-shadow:var(--shadow-soft);
      overflow:hidden;
    }

    /* =====================
       Tabs (ARIA + keyboard)
       ===================== */
    .tab-labels{display:flex;gap:.4rem;align-items:center;flex-wrap:wrap;margin-bottom:1rem}
    .tab-labels [role="tab"]{
      appearance:none;border:0;background:transparent;padding:.55rem .85rem;border-radius:10px;
      cursor:pointer;color:var(--muted);font-weight:600;font-size:.95rem;transition:transform var(--trans);
    }
    .tab-labels [role="tab"]:hover{transform:translateY(-2px)}
    .tab-labels [aria-selected="true"]{
      background:linear-gradient(180deg, rgba(47,123,230,0.06), rgba(0,0,0,0.02));
      color:var(--text);box-shadow:inset 0 -2px 0 rgba(0,0,0,0.04);
    }

    .tab-panels{padding:.2rem 0}
    .panel{display:none;padding:.2rem .1rem 0}
    .panel[aria-hidden="false"]{display:block}

    h2{margin:.2rem 0 .5rem}
    p{margin:.4rem 0 .9rem;color:var(--muted)}

    /* =====================
       Accordion (native <details>)
       ===================== */
    .accordion{margin:.8rem 0;border-radius:10px;padding:.65rem;background:linear-gradient(180deg, rgba(0,0,0,0.02), transparent)}
    .accordion summary{cursor:pointer;font-weight:700;list-style:none;outline:none}
    .accordion[open]{background:linear-gradient(180deg, rgba(47,123,230,0.03), transparent)}
    .accordion p{margin:.5rem 0 0;color:var(--muted)}

    /* =====================
       Cards grid
       ===================== */
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem;margin-top:.6rem}
    .card-item{
      background:linear-gradient(180deg, rgba(255,255,255,0.4), rgba(255,255,255,0.02));
      border-radius:12px;padding:1rem;box-shadow:var(--shadow-soft);
      transition:transform var(--trans), box-shadow var(--trans);
      min-height:120px;display:flex;flex-direction:column;gap:.6rem;
    }
    .card-item:hover{transform:translateY(-8px);box-shadow:var(--shadow-strong)}
    .card-item:focus{outline:var(--focus-outline) solid rgba(47,123,230,0.12);outline-offset:6px}
    .card-item h3{margin:0;font-size:1.02rem}
    .card-item p{margin:0;color:var(--muted);font-size:.92rem}
    .card-actions{margin-top:auto;display:flex;gap:.5rem;align-items:center}

    .btn{
      display:inline-flex;align-items:center;gap:.5rem;padding:.5rem .75rem;border-radius:9px;border:0;
      background:var(--accent);color:#fff;text-decoration:none;font-weight:600;cursor:pointer;
    }
    .btn-secondary{background:transparent;color:var(--text);border:1px solid rgba(9,18,35,0.06);padding:.45rem .6rem;border-radius:9px}

    /* =====================
       Form
       ===================== */
    form.demo-form{display:grid;gap:.65rem;max-width:600px}
    form label{display:flex;flex-direction:column;gap:.3rem;font-size:.95rem}
    input[type="text"],input[type="email"],textarea{
      padding:.6rem .75rem;border-radius:10px;border:1px solid rgba(9,18,35,0.06);
      background:var(--panel);color:var(--text);transition:border-color var(--trans),box-shadow var(--trans);
    }
    input:focus,textarea:focus{outline:none;border-color:var(--accent);box-shadow:0 6px 24px rgba(47,123,230,0.08)}
    input:invalid{border-color:#e11d48}
    .checkbox-inline{display:flex;align-items:center;gap:.5rem;color:var(--muted)}
    .form-actions{display:flex;gap:.5rem;align-items:center;margin-top:.2rem}

    /* =====================
       Modal (JS toggled .open)
       ===================== */
    .modal{
      position:fixed;inset:0;display:grid;place-items:center;padding:2rem;background:rgba(7,17,34,0.0);
      opacity:0;pointer-events:none;transition:opacity .18s ease, background-color .18s ease;z-index:1000;
    }
    .modal.open{opacity:1;pointer-events:auto;background:rgba(7,17,34,0.45)}
    .modal-panel{
      width:100%;max-width:720px;background:var(--panel);border-radius:14px;padding:1.15rem 1.15rem 1rem;
      box-shadow:0 30px 80px rgba(9,18,35,0.18);transform:translateY(8px);transition:transform var(--trans),opacity var(--trans)
    }
    .modal.open .modal-panel{transform:none}
    .modal-head{display:flex;align-items:center;gap:.75rem;border-bottom:1px solid rgba(9,18,35,0.04);padding-bottom:.6rem}
    .modal-close{margin-left:auto;padding:.35rem .55rem;border-radius:9px;border:1px solid rgba(9,18,35,0.06);background:transparent;cursor:pointer}

    footer.sitefoot{margin-top:1rem;text-align:center;color:var(--muted);font-size:.92rem;padding:.6rem}

    /* Focus visible */
    :focus{outline:none}
    :focus-visible{outline:var(--focus-outline) solid rgba(47,123,230,0.15);outline-offset:3px;border-radius:6px}

    @media (max-width:720px){
      .brand .subtitle{display:none}
      .grid{grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}
      .page{margin:0.8rem;padding:.6rem}
      .modal{padding:1rem}
    }
  </style>
</head>
<body>
  <!-- Skip link -->
  <a class="skip-link" href="#main">Skip to content</a>

  <div class="page" id="page">
    <header class="topbar" role="banner">
      <div class="brand">
        <div class="logo" aria-hidden="true">UI</div>
        <div>
          <h1 class="title">Pure HTML & CSS</h1>
          <p class="subtitle">Accessible patterns — tabs · modal · responsive grid</p>
        </div>
      </div>

      <div class="controls">
        <!-- Hidden checkbox (for non-JS fallback) -->
        <input id="theme-toggle" type="checkbox" aria-hidden="true" />
        <button id="theme-button" class="theme-btn" aria-pressed="false" title="Toggle theme">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 3v2M12 19v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span id="theme-label" style="font-weight:700;color:var(--text)">Theme</span>
        </button>
      </div>
    </header>

    <main id="main" class="card" role="main" aria-labelledby="main-title">
      <h2 id="main-title" style="margin-top:0">Demo — polished single-file UI</h2>
      <p>CSS-first interactions with semantic markup. A tiny, focused script improves accessibility where CSS can't (focus trap, Escape-to-close, theme persistence, ARIA tab keyboard behavior).</p>

      <!-- Tabs -->
      <section class="tabs" role="region" aria-labelledby="tabs-heading">
        <div class="tab-labels" role="tablist" aria-label="Demo sections">
          <button role="tab" id="tab-btn-overview" aria-controls="panel-overview" aria-selected="true">Overview</button>
          <button role="tab" id="tab-btn-cards" aria-controls="panel-cards" aria-selected="false">Cards</button>
          <button role="tab" id="tab-btn-form" aria-controls="panel-form" aria-selected="false">Form</button>
        </div>

        <div class="tab-panels">
          <section id="panel-overview" class="panel" role="tabpanel" aria-labelledby="tab-btn-overview" aria-hidden="false">
            <h3 style="margin-top:0">Welcome</h3>
            <p>Try the tabs, open the modal, expand the accordion, and test the responsive grid. All interactions are keyboard reachable.</p>

            <details class="accordion">
              <summary>Why a CSS-first approach?</summary>
              <p>CSS can implement many UI patterns without JavaScript, reducing complexity. The small script here only fills accessibility gaps that CSS cannot address safely (focus trap, Escape-to-close, and persisting theme).</p>
            </details>

            <p>
              Open an example modal:
              <a href="#" data-open-modal class="btn-secondary" style="text-decoration:none;padding:.35rem .55rem;border-radius:8px">Open modal</a>
            </p>
          </section>

          <section id="panel-cards" class="panel" role="tabpanel" aria-labelledby="tab-btn-cards" aria-hidden="true">
            <h3 style="margin-top:0">Responsive Cards</h3>
            <p>Cards adapt to the viewport and include hover and focus affordances.</p>

            <div class="grid" role="list">
              <article class="card-item" role="listitem" tabindex="0" aria-label="Card: Performance">
                <h3>Performance</h3>
                <p>Hardware-accelerated transforms and minimal repaint areas keep interactions smooth.</p>
                <div class="card-actions">
                  <a class="btn" href="#" data-open-modal>View</a>
                  <button class="btn-secondary" type="button">More</button>
                </div>
              </article>

              <article class="card-item" role="listitem" tabindex="0" aria-label="Card: Responsive">
                <h3>Responsive</h3>
                <p>Grid and fluid spacing scale across devices — from compact mobile to wide desktop.</p>
                <div class="card-actions">
                  <a class="btn" href="#" data-open-modal>View</a>
                  <button class="btn-secondary" type="button">More</button>
                </div>
              </article>

              <article class="card-item" role="listitem" tabindex="0" aria-label="Card: Accessible">
                <h3>Accessible</h3>
                <p>Keyboard focus, visible outlines, and semantic structure improve inclusivity.</p>
                <div class="card-actions">
                  <a class="btn" href="#" data-open-modal>View</a>
                  <button class="btn-secondary" type="button">More</button>
                </div>
              </article>

              <article class="card-item" role="listitem" tabindex="0" aria-label="Card: Simple">
                <h3>Simple</h3>
                <p>Minimal dependencies — just markup and CSS — making it ideal for static sites.</p>
                <div class="card-actions">
                  <a class="btn" href="#" data-open-modal>View</a>
                  <button class="btn-secondary" type="button">More</button>
                </div>
              </article>
            </div>
          </section>

          <section id="panel-form" class="panel" role="tabpanel" aria-labelledby="tab-btn-form" aria-hidden="true">
            <h3 style="margin-top:0">Contact Form</h3>
            <p>Uses built-in validation and provides visual feedback for focus/invalid states.</p>

            <form class="demo-form" action="#" method="post" onsubmit="return false;" novalidate>
              <label>
                <span style="font-weight:600">Name</span>
                <input type="text" name="name" placeholder="Your full name" required aria-required="true" />
              </label>

              <label>
                <span style="font-weight:600">Email</span>
                <input type="email" name="email" placeholder="you@example.com" required aria-required="true" />
              </label>

              <label>
                <span style="font-weight:600">Message</span>
                <textarea name="message" rows="4" placeholder="A short message (optional)"></textarea>
              </label>

              <label class="checkbox-inline" style="margin-top:.25rem">
                <input type="checkbox" name="subscribe" />
                <span style="font-size:.95rem">Subscribe to updates</span>
              </label>

              <div class="form-actions">
                <button class="btn" type="submit" title="Submit form">Submit</button>
                <a class="btn-secondary" href="#" data-open-modal title="Preview modal">Preview modal</a>
              </div>
            </form>
          </section>
        </div>
      </section>
    </main>

    <footer class="sitefoot" role="contentinfo">
      <span>Made with ❤️ — CSS-first UI patterns with small JS to fix accessibility gaps.</span>
    </footer>
  </div>

  <!-- Modal (hidden by default; opened/closed by JS) -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-panel" role="document" aria-labelledby="modal-title">
      <div class="modal-head">
        <h3 id="modal-title" style="margin:0">Accessible Modal</h3>
        <button class="modal-close" id="modal-close" aria-label="Close dialog">Close</button>
      </div>
      <div class="modal-body">
        <p style="margin-top:.5rem">This modal is opened programmatically so the demo can: trap focus, restore focus on close, close with Escape, and close by clicking the overlay — improving accessibility compared to CSS :target-only modals.</p>
        <p style="margin:.6rem 0 0;color:var(--muted)">Note: the tiny script at the end is self-contained and unobtrusive.</p>
      </div>
    </div>
  </div>

  <script>
    /*
      Small focused JS to:
      - Persist & apply theme (prefers-color-scheme fallback)
      - Implement accessible ARIA tabs with keyboard navigation (Arrow/Home/End/Enter/Space)
      - Open/close modal without changing URL (focus trap, Escape-to-close, overlay click, restore focus)
      This keeps the demo CSS-first while fixing gaps that can't be solved reliably with CSS alone.
    */
    (function () {
      'use strict';

      /* ===== Theme persistence & UI ===== */
      const htmlEl = document.documentElement;
      const themeBtn = document.getElementById('theme-button');
      const themeLabel = document.getElementById('theme-label');

      const savedTheme = localStorage.getItem('demo-theme');
      const systemPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      const initialDark = savedTheme ? (savedTheme === 'dark') : systemPrefersDark;

      function applyTheme(isDark) {
        if (isDark) {
          htmlEl.classList.add('dark');
          themeBtn.setAttribute('aria-pressed', 'true');
          themeLabel.textContent = 'Dark';
        } else {
          htmlEl.classList.remove('dark');
          themeBtn.setAttribute('aria-pressed', 'false');
          themeLabel.textContent = 'Light';
        }
      }

      applyTheme(initialDark);

      themeBtn.addEventListener('click', function () {
        const willBeDark = !htmlEl.classList.contains('dark');
        applyTheme(willBeDark);
        localStorage.setItem('demo-theme', willBeDark ? 'dark' : 'light');
      });

      /* ===== Accessible Tabs ===== */
      const tabButtons = Array.from(document.querySelectorAll('.tab-labels [role="tab"]'));
      const panels = tabButtons.map(btn => document.getElementById(btn.getAttribute('aria-controls')));

      function activateTab(index, focus = true) {
        tabButtons.forEach((btn, i) => {
          const selected = i === index;
          btn.setAttribute('aria-selected', String(selected));
          btn.tabIndex = selected ? 0 : -1;
          panels[i].setAttribute('aria-hidden', String(!selected));
        });
        if (focus) tabButtons[index].focus();
      }

      // initial activate first tab
      activateTab(0, false);

      tabButtons.forEach((btn, idx) => {
        btn.addEventListener('click', () => activateTab(idx, false));
        btn.addEventListener('keydown', (e) => {
          const key = e.key;
          let next;
          if (key === 'ArrowRight') next = (idx + 1) % tabButtons.length;
          if (key === 'ArrowLeft') next = (idx - 1 + tabButtons.length) % tabButtons.length;
          if (key === 'Home') next = 0;
          if (key === 'End') next = tabButtons.length - 1;
          if (next !== undefined) {
            e.preventDefault();
            activateTab(next);
          }
          if (key === 'Enter' || key === ' ') {
            e.preventDefault();
            activateTab(idx);
          }
        });
      });

      /* ===== Modal (open/close + focus trap) ===== */
      const modal = document.getElementById('modal');
      const modalPanel = modal.querySelector('.modal-panel');
      const modalClose = document.getElementById('modal-close');
      const openers = Array.from(document.querySelectorAll('[data-open-modal]'));
      let lastFocusedElement = null;

      function getFocusable(container) {
        return Array.from(container.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])'))
          .filter(el => el.offsetParent !== null);
      }

      function trapFocusHandler(e) {
        if (e.key !== 'Tab') return;
        const focusables = getFocusable(modalPanel);
        if (focusables.length === 0) {
          e.preventDefault();
          return;
        }
        const first = focusables[0];
        const last = focusables[focusables.length - 1];
        if (e.shiftKey && document.activeElement === first) {
          e.preventDefault();
          last.focus();
        } else if (!e.shiftKey && document.activeElement === last) {
          e.preventDefault();
          first.focus();
        }
      }

      function openModal() {
        if (modal.classList.contains('open')) return;
        lastFocusedElement = document.activeElement;
        modal.classList.add('open');
        modal.setAttribute('aria-hidden', 'false');
        document.documentElement.style.overflow = 'hidden';
        document.addEventListener('keydown', modalKeyHandler);
        // focus first focusable inside modal (close button fallback)
        setTimeout(() => {
          const focusable = getFocusable(modalPanel)[0] || modalClose;
          focusable.focus();
        }, 10);
      }

      function closeModal() {
        if (!modal.classList.contains('open')) return;
        modal.classList.remove('open');
        modal.setAttribute('aria-hidden', 'true');
        document.documentElement.style.overflow = '';
        document.removeEventListener('keydown', modalKeyHandler);
        if (lastFocusedElement && typeof lastFocusedElement.focus === 'function') {
          lastFocusedElement.focus();
        }
      }

      function modalKeyHandler(e) {
        if (e.key === 'Escape') {
          e.preventDefault();
          closeModal();
        } else {
          trapFocusHandler(e);
        }
      }

      openers.forEach(op => {
        op.addEventListener('click', function (evt) {
          evt.preventDefault();
          openModal();
        });
      });

      // overlay click (close when clicking outside panel)
      modal.addEventListener('click', function (evt) {
        if (evt.target === modal) closeModal();
      });

      modalClose.addEventListener('click', function () { closeModal(); });

      // allow Enter key on card items to open modal if focused
      document.querySelectorAll('.card-item').forEach(ci => {
        ci.addEventListener('keydown', function (e) {
          if (e.key === 'Enter') {
            const opener = ci.querySelector('[data-open-modal]');
            if (opener) opener.click();
          }
        });
      });

      // Respect reduced-motion preference
      if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        document.documentElement.style.scrollBehavior = 'auto';
      }
    })();
  </script>
</body>
</html>
